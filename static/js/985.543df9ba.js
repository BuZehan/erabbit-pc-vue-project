"use strict";(self["webpackChunkerabbit_pc_vue_project"]=self["webpackChunkerabbit_pc_vue_project"]||[]).push([[985,973],{9962:function(e,r,t){t.r(r),t.d(r,{default:function(){return fe}});var l=t(3396);const d=e=>((0,l.dD)("data-v-e3d5a7b2"),e=e(),(0,l.Cn)(),e),a={key:0,class:"order-detail-page"},s=d((()=>(0,l._)("div",{class:"loading"},"loading",-1)));function o(e,r,t,d,o,i){const n=(0,l.up)("DetailAction"),u=(0,l.up)("DetailSteps"),c=(0,l.up)("DetailLogistics"),p=(0,l.up)("OrderInfo");return d.order?((0,l.wg)(),(0,l.iD)("div",a,[(0,l.Wm)(n,{order:d.order},null,8,["order"]),(0,l.Wm)(u,{order:d.order},null,8,["order"]),[3,4,5].includes(d.order.orderState)?((0,l.wg)(),(0,l.j4)(l.n4,{key:0},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{order:d.order},null,8,["order"])])),fallback:(0,l.w5)((()=>[s])),_:1})):(0,l.kq)("",!0),(0,l.Wm)(p,{order:d.order},null,8,["order"])])):(0,l.kq)("",!0)}var i=t(4870),n=t(7535),u=t(2483),c=(t(7658),t(7139));const p={class:"detail-action"},_={class:"state"},m={class:"info"},v={class:"btn"};function w(e,r,t,d,a,s){const o=(0,l.up)("XtxButton"),i=(0,l.up)("OrderCancel");return(0,l.wg)(),(0,l.iD)("div",p,[(0,l._)("div",_,[(0,l._)("span",{class:(0,c.C_)(["iconfont",[`icon-order-${d.orderStatus[t.order.orderState].name}`]])},null,2),(0,l._)("p",null,(0,c.zw)(d.orderStatus[t.order.orderState].label),1)]),(0,l._)("div",m,[(0,l._)("p",null,"订单编号："+(0,c.zw)(t.order.id),1),(0,l._)("p",null,"下单时间："+(0,c.zw)(t.order.createTime),1)]),(0,l._)("div",v,[1===t.order.orderState?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l.Wm)(o,{onClick:r[0]||(r[0]=r=>e.$router.push("/member/pay?id="+t.order.id)),type:"primary",size:"small"},{default:(0,l.w5)((()=>[(0,l.Uk)("立即付款 ")])),_:1}),(0,l.Wm)(o,{onClick:r[1]||(r[1]=r=>e.onCancelOrder(t.order)),type:"gray",size:"small"},{default:(0,l.w5)((()=>[(0,l.Uk)("取消订单")])),_:1})],64)):(0,l.kq)("",!0),2===t.order.orderState?((0,l.wg)(),(0,l.j4)(o,{key:1,type:"primary",size:"small"},{default:(0,l.w5)((()=>[(0,l.Uk)("再次购买")])),_:1})):(0,l.kq)("",!0),3===t.order.orderState?((0,l.wg)(),(0,l.iD)(l.HY,{key:2},[(0,l.Wm)(o,{onClick:r[2]||(r[2]=e=>d.onConfirmOrder(t.order)),type:"primary",size:"small"},{default:(0,l.w5)((()=>[(0,l.Uk)("确认收货")])),_:1}),(0,l.Wm)(o,{onClick:r[3]||(r[3]=r=>e.$router.push(`/member/checkout?orderId=${t.order.id}`)),type:"plain",size:"small"},{default:(0,l.w5)((()=>[(0,l.Uk)("再次购买")])),_:1})],64)):(0,l.kq)("",!0),4===t.order.orderState?((0,l.wg)(),(0,l.iD)(l.HY,{key:3},[(0,l.Wm)(o,{onClick:r[4]||(r[4]=r=>e.$router.push(`/member/checkout?orderId=${t.order.id}`)),type:"plain",size:"small"},{default:(0,l.w5)((()=>[(0,l.Uk)("再次购买")])),_:1}),(0,l.Wm)(o,{type:"plain",size:"small"},{default:(0,l.w5)((()=>[(0,l.Uk)("评价商品")])),_:1}),(0,l.Wm)(o,{type:"gray",size:"small"},{default:(0,l.w5)((()=>[(0,l.Uk)("申请售后")])),_:1})],64)):(0,l.kq)("",!0),5===t.order.orderState?((0,l.wg)(),(0,l.iD)(l.HY,{key:4},[(0,l.Wm)(o,{onClick:r[5]||(r[5]=r=>e.$router.push(`/member/checkout?orderId=${t.order.id}`)),type:"plain",size:"small"},{default:(0,l.w5)((()=>[(0,l.Uk)("再次购买")])),_:1}),(0,l.Wm)(o,{type:"plain",size:"small"},{default:(0,l.w5)((()=>[(0,l.Uk)("查看评价")])),_:1}),(0,l.Wm)(o,{type:"gray",size:"small"},{default:(0,l.w5)((()=>[(0,l.Uk)("申请售后")])),_:1})],64)):(0,l.kq)("",!0)]),((0,l.wg)(),(0,l.j4)(l.lR,{to:"#dailog"},[(0,l.Wm)(i,{ref:"orderCancelCom"},null,512)]))])}var f=t(5070),k=t(6109),g=t(9631),y={name:"OrderDetailPage",components:{OrderCancel:k.Z},props:{order:{type:Object,default:()=>({})}},setup(){const{proxy:e}=(0,l.FN)(),r=r=>{e.$Confirm({text:"您确认收到货吗？确认后货款将会打给卖家。"}).then((()=>{(0,n.Nc)(r.id).then((()=>{e.$message({text:"确认收货成功",type:"success"}),r.orderState=4}))}))};return{orderStatus:f.iM,...(0,g.useCancelOrder)(),onConfirmOrder:r}}},b=t(89);const h=(0,b.Z)(y,[["render",w],["__scopeId","data-v-8dee9b16"]]);var z=h;const D={class:"detail-steps",style:{padding:"20px"}};function C(e,r,t,d,a,s){const o=(0,l.up)("XtxStepsItem"),i=(0,l.up)("XtxSteps");return(0,l.wg)(),(0,l.iD)("div",D,[(0,l.Wm)(i,{active:6===t.order.orderState?1:t.order.orderState},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{title:"提交订单",desc:t.order.createTime},null,8,["desc"]),(0,l.Wm)(o,{title:"付款成功",desc:t.order.payTime},null,8,["desc"]),(0,l.Wm)(o,{title:"商品发货",desc:t.order.consignTime},null,8,["desc"]),(0,l.Wm)(o,{title:"确认收货",desc:t.order.evaluationTime},null,8,["desc"]),(0,l.Wm)(o,{title:"订单完成",desc:t.order.endTime},null,8,["desc"])])),_:1},8,["active"])])}var W={props:{order:{type:Object,default:()=>({})}},name:"DetailSteps"};const O=(0,b.Z)(W,[["render",C]]);var S=O;const U={key:0,class:"detail-logistics"};function j(e,r,t,d,a,s){const o=(0,l.up)("OrderLogistics");return(0,l.wg)(),(0,l.iD)(l.HY,null,[d.logistics?((0,l.wg)(),(0,l.iD)("div",U,[(0,l._)("p",null,[(0,l._)("span",null,(0,c.zw)(d.logistics.list[0].time),1),(0,l._)("span",null,(0,c.zw)(d.logistics.list[0].text),1)]),(0,l._)("a",{href:"javascript:;",onClick:r[0]||(r[0]=r=>e.onLogisticsOrder(t.order))},"查看物流")])):(0,l.kq)("",!0),((0,l.wg)(),(0,l.j4)(l.lR,{to:"#dailog"},[(0,l.Wm)(o,{ref:"logisticsOrderCom"},null,512)]))],64)}var x=t(3066),I={name:"DetailLogistics",props:{order:{type:Object,default:()=>({})}},components:{OrderLogistics:x.Z},async setup(e){const r=(0,i.iH)(null),t=()=>new Promise(((e,r)=>{setTimeout((()=>{e()}),2e3)}));await t();const l=await(0,n.KB)(e.order.id);return r.value=l.result,{logistics:r,...(0,g.useLogisticsOrder)()}}};const $=(0,b.Z)(I,[["render",j],["__scopeId","data-v-61c274ba"]]);var q=$;const T=e=>((0,l.dD)("data-v-099e4794"),e=e(),(0,l.Cn)(),e),H={class:"order-info"},L=T((()=>(0,l._)("h3",null,"订单商品",-1))),Z={class:"goods-table"},P=T((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{width:"400"},"商品信息"),(0,l._)("th",null,"单价"),(0,l._)("th",null,"数量"),(0,l._)("th",null,"小计"),(0,l._)("th",null,"实付")])],-1))),Y={href:"javascript:;",class:"product"},M=["src"],A={class:"info"},N={class:"name ellipsis"},X={class:"attrs ellipsis"},B=T((()=>(0,l._)("h3",null,"收货信息",-1))),F={class:"info-box"},K=T((()=>(0,l._)("dt",null,[(0,l.Uk)("收"),(0,l._)("i"),(0,l.Uk)("货"),(0,l._)("i"),(0,l.Uk)("人：")],-1))),R=T((()=>(0,l._)("dt",null,"联系方式：",-1))),E=T((()=>(0,l._)("dt",null,"收货地址：",-1))),G=(0,l.uE)('<h3 data-v-099e4794>支付方式及送货时间</h3><div class="info-box" data-v-099e4794><dl data-v-099e4794><dt data-v-099e4794>支付方式：</dt><dd data-v-099e4794>180****1849</dd></dl><dl data-v-099e4794><dt data-v-099e4794>送货时间：</dt><dd data-v-099e4794>双休日、假日送货(适合于家庭地址)</dd></dl></div><h3 data-v-099e4794>发票信息</h3><div class="info-box" data-v-099e4794><dl data-v-099e4794><dt data-v-099e4794>发票类型：</dt><dd data-v-099e4794>电子发票</dd></dl><dl data-v-099e4794><dt data-v-099e4794>发票内容：</dt><dd data-v-099e4794>日用品</dd></dl><dl data-v-099e4794><dt data-v-099e4794>发票抬头：</dt><dd data-v-099e4794>个人</dd></dl></div><h3 data-v-099e4794>订单信息</h3>',5),J={class:"info-box"},Q=T((()=>(0,l._)("dl",null,[(0,l._)("dt",null,"订单编号："),(0,l._)("dd",null,"在线支付")],-1))),V=T((()=>(0,l._)("dt",null,"下单时间：",-1))),ee={class:"sum-info"},re={class:"info"},te={class:"item"},le=T((()=>(0,l._)("label",null,"商品件数：",-1))),de={class:"item"},ae=T((()=>(0,l._)("label",null,"商品总价：",-1))),se={class:"item"},oe=T((()=>(0,l._)("label",null,[(0,l.Uk)("运"),(0,l._)("i"),(0,l.Uk)("费：")],-1))),ie={class:"item"},ne=T((()=>(0,l._)("label",null,"应付总额：",-1))),ue={class:"price"};function ce(e,r,t,d,a,s){return(0,l.wg)(),(0,l.iD)("div",H,[L,(0,l._)("table",Z,[P,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.order.skus,(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id},[(0,l._)("td",null,[(0,l._)("a",Y,[(0,l._)("img",{src:e.image,alt:""},null,8,M),(0,l._)("div",A,[(0,l._)("p",N,(0,c.zw)(e.name),1),(0,l._)("p",X,(0,c.zw)(e.attrsText),1)])])]),(0,l._)("td",null,"¥"+(0,c.zw)(e.curPrice),1),(0,l._)("td",null,(0,c.zw)(e.quantity),1),(0,l._)("td",null,"¥"+(0,c.zw)(e.realPay),1),(0,l._)("td",null,"¥"+(0,c.zw)(e.realPay),1)])))),128))])]),B,(0,l._)("div",F,[(0,l._)("dl",null,[K,(0,l._)("dd",null,(0,c.zw)(t.order.receiverContact),1)]),(0,l._)("dl",null,[R,(0,l._)("dd",null,(0,c.zw)(t.order.receiverMobile),1)]),(0,l._)("dl",null,[E,(0,l._)("dd",null,(0,c.zw)(t.order.receiverAddress),1)])]),G,(0,l._)("div",J,[Q,(0,l._)("dl",null,[V,(0,l._)("dd",null,(0,c.zw)(t.order.createTime),1)])]),(0,l._)("div",ee,[(0,l._)("div",re,[(0,l._)("div",te,[le,(0,l._)("span",null,(0,c.zw)(t.order.totalNum)+"件",1)]),(0,l._)("div",de,[ae,(0,l._)("span",null,"¥"+(0,c.zw)(t.order.totalMoney),1)]),(0,l._)("div",se,[oe,(0,l._)("span",null,(0,c.zw)(t.order.postFee),1)]),(0,l._)("div",ie,[ne,(0,l._)("span",ue,"¥"+(0,c.zw)(t.order.payMoney),1)])])])])}var pe={name:"OrderInfo",props:{order:{type:Object,default:()=>({})}}};const _e=(0,b.Z)(pe,[["render",ce],["__scopeId","data-v-099e4794"]]);var me=_e,ve={name:"OrderDetailPage",components:{DetailAction:z,DetailSteps:S,DetailLogistics:q,OrderInfo:me},props:{order:{type:Object,default:()=>({})}},setup(){const e=(0,i.iH)(null),r=(0,u.yj)();return(0,n.a_)(r.params.id).then((r=>{e.value=r.result})),{order:e}}};const we=(0,b.Z)(ve,[["render",o],["__scopeId","data-v-e3d5a7b2"]]);var fe=we}}]);